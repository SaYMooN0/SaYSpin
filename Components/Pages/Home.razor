@page "/"
@inject MainGameController gameController

<div class="home-page-container">
    <div class="home-central">
        <SlotMachineComponent SlotMachine="@gameController.SlotMachine" />
        <StageProgressBar Current="0" Needed="100" />
        <button @onclick="CallUpdateItems" class="spin-button">Spin</button>
    </div>
    <InventoryComponent />
</div>

@code {

    private void CallUpdateItems()
    {
        TileItemsPicker itemsPicker = new(gameController.SlotMachine.TotalSlots);
        itemsPicker.PickItemsFrom(gameController.Inventory.TileItems);
        gameController.SlotMachine.UpdateItems(itemsPicker);
    }
}
