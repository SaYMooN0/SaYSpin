@page "/run_preparing"
@layout Layout.EmptyLayout
@inject AppMainController mainAppController
@inject IJSRuntime js

<div class="run-preparing-page">
    <NavLink href="">
        <div class="cancel-button unselectable">
            Cancel
        </div>
    </NavLink>
    <div class="content">
        @if (currentStageIsDifficlutyChoosing)
        {
            <ChooseDifficultyStageComponent onDifficultyChosen="@DifficultyChosen" />
        }
        else
        {
            <ChooseStarterKitStageComponent selectedDifficultyName="@selectedDifficulty.Name" starterKits="mainAppController.GenerateStarterKits(selectedDifficulty)" />
        }
    </div>
</div>

@code {
    private bool currentStageIsDifficlutyChoosing = true;
    private Difficulty selectedDifficulty { get; set; }

    private void DifficultyChosen(Difficulty difficulty)
    {
        selectedDifficulty = difficulty;
        currentStageIsDifficlutyChoosing = false;
    }
}
