@page "/run_preparing"
@layout Layout.EmptyLayout
@inject AllGameController allGameController

<div class="run-preparing-page">
    <NavLink href="">
        <div class="cancel-button unselectable">
            Cancel
        </div>
    </NavLink>
    <div class="content">
        @if (currentStageIsDifficlutyChoosing)
        {
            <ChooseDifficultyStageComponent onDifficultyChosen="@DifficultyChosen" />
        }
        else
        {
            <ChooseStarterKitStageComponent game="allGameController.Game" />
        }
    </div>
</div>

@code {
    private bool currentStageIsDifficlutyChoosing = true;
    private void DifficultyChosen(Difficulty difficulty)
    {
        allGameController.InitializeNewGame(difficulty);
        currentStageIsDifficlutyChoosing = false;
    }
}
